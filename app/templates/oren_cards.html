{% extends "base.html" %}

{% block content %}
<style>
  .product-container {
    max-width: 1000px;
    margin: 40px auto;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    display: flex;
    flex-wrap: wrap;
    overflow: hidden;
    background: #fff;
  }

  .product-image {
    flex: 1 1 400px;
    max-height: 500px;
    overflow: hidden;
  }

  .product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .product-details {
    flex: 1 1 500px;
    padding: 30px;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .product-title {
    font-size: 28px;
    font-weight: bold;
    margin-bottom: 10px;
  }

  .tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 10px;
  }

  .tab {
    padding: 6px 14px;
    font-size: 0.9rem;
    border-radius: 20px;
    background-color: #f0f0f0;
    color: #333;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .tab:hover {
    background-color: #e0e0e0;
  }

  .tab.active {
    background-color: #007bff;
    color: white;
    box-shadow: 0 3px 8px rgba(0,123,255,0.3);
  }

  #tab-content {
    font-size: 0.95rem;
    color: #444;
    line-height: 1.6;
    transition: opacity 0.3s ease;
    min-height: 120px;
  }

  .buy-button {
    margin-top: auto;
    padding: 12px 24px;
    background-color: #007bff;
    color: white;
    border-radius: 24px;
    border: none;
    font-weight: 500;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.2s ease;
    width: 100%;
  }

  .buy-button:hover {
    background-color: #0056c7;
  }

  @media (max-width: 768px) {
    .product-container {
      flex-direction: column;
    }

    .product-image {
      max-height: 300px;
    }
  }
</style>

<div class="product-container">
  <div class="product-image">
    <img src="/static/oren_cards.jpg" alt="Оренбургские карточки">
  </div>
  <div class="product-details">
    <div class="product-title">Оренбургские карточки</div>

    <div class="tabs">
      <div class="tab active" data-section="set">Комплектация</div>
      <div class="tab" data-section="goal">Цель</div>
      <div class="tab" data-section="prep">Подготовка</div>
      <div class="tab" data-section="game">Ход игры</div>
      <div class="tab" data-section="rules">Правила</div>
      <div class="tab" data-section="fail">Пролёт</div>
      <div class="tab" data-section="extra">Доп. правила</div>
    </div>

    <div id="tab-content">
      <p><strong>Комплектация:</strong><br>
        – 30 карточек с достопримечательностями Оренбургской области (по 10 карточек на каждую категорию)<br>
        – Правила игры<br>
        – Информационный лист (описание всех карточек)</p>
    </div>

    <button class="buy-button">Купить</button>
  </div>
</div>

<script>
  const tabs = document.querySelectorAll('.tab');
  const content = document.getElementById('tab-content');

  const data = {
    set: `<p><strong>Комплектация:</strong><br>
      – 30 карточек с достопримечательностями Оренбургской области (по 10 карточек на каждую категорию)<br>
      – Правила игры<br>
      – Информационный лист (описание всех карточек)</p>`,
    goal: `<p><strong>Цель игры:</strong><br>
      Угадать, какая достопримечательность изображена на карточке, по описанию, частично или полностью основанному на реальных фактах. Побеждает тот, кто дольше всех не «пролетит».</p>`,
    prep: `<p><strong>Подготовка к игре:</strong><br>
      В игре участвуют от 3 до 6 человек. Один из игроков выбирается ведущим и получает лист с описаниями карточек. Остальные получают по 4 случайные карточки. Остальные формируют колоду добора.</p>`,
    game: `<p><strong>Ход игры:</strong><br>
      Игра проходит по часовой стрелке. Игрок выбирает карточку, озвучивает до 3 пунктов описания (2 из них должны быть правдой). Затем выбирается игрок, который должен угадать карточку по описанию.</p>`,
    rules: `<p><strong>Правила:</strong><br>
      Отвечающий должен угадать:<br>
      – название достопримечательности<br>
      – страну или город (если допускается)<br>
      У него есть 30 секунд.</p>`,
    fail: `<p><strong>Пролёт и завершение:</strong><br>
      Игра заканчивается при:<br>
      – неправильном ответе<br>
      – нарушении правил описания<br>
      В облегчённой версии — после трёх пролётов побеждает игрок с наименьшим числом ошибок.</p>`,
    extra: `<p><strong>Дополнительные правила:</strong><br>
      После каждого раунда задающий и отвечающий добирают по одной карточке (если остались). Ведущий может предупреждать. При спорных моментах — его слово последнее.</p>`
  };

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      content.style.opacity = 0;
      setTimeout(() => {
        content.innerHTML = data[tab.dataset.section];
        content.style.opacity = 1;
      }, 200);
    });
  });
</script>
{% endblock %}
